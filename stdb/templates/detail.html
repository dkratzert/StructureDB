{% extends "base.html" %}

{% comment %}
This template shows the details of a dataset with all its values
{% endcomment %}

<title>{% block head_title %} {{ dataset.name }} | {{ block.super }}{% endblock head_title %}</title>

<style>
    {% block style %}
        {{ block.super }}
    {% endblock style %}
</style>

{% block content %}

<title>{{ dataset.name }}</title>

{% block title %}<h2>Measurement details for {{ dataset.name }}</h2>{% endblock %}
    <p>
    <dl>
    <dt>Operator: {{ dataset.operator }} </dt>
    <dt>Dataset Name: {{ dataset.name }} </dt>
    <dt>Machine: {{ dataset.machine }} </dt>
    <dt>Received: {{ dataset.received }} </dt>
    <dt>Measurement Date: {{ dataset.measure_date }} </dt>
    <dt>Publishable: {% if dataset.is_publishable %} Yes! {% else %} No! {% endif %}</dt>
    </dl>
    </p>

    <dl>

    <dt>Flask Name: {{ dataset.name }} </dt>
    <dt>Formula: {{ dataset.format_formula }} </dt>
    <dt>D / g&CenterDot;cm<sup>-3</sup>: {{ dataset.density }} </dt>
    <p>
        <h3>Unit Cell</h3>
        <dt><it>a</it>: {{ dataset.cell_a }} </dt>
        <dt><it>b</it>: {{ dataset.cell_b }} </dt>
        <dt><it>c</it>: {{ dataset.cell_c }} </dt>
        <dt><it>&alpha;</it>: {{ dataset.alpha }} </dt>
        <dt><it>&beta;</it>: {{ dataset.beta }} </dt>
        <dt><it>&gamma;</it>: {{ dataset.gamma }} </dt>
    </p>
    <p>
        <!-- List of uploaded documents -->
        {% if dataset.cif_file %}
            <ul>
            <li><a href="{{ dataset.cif_file.url }}">{{ dataset.cif_file.name }}</a> {{ dataset.getsize }}</li>
            </ul>
        {% else %}
            <p>No documents.</p>
        {% endif %}
    </p>
    <p>
        <a href="{% url 'stdb:update' pk=dataset.id %}">Edit Data</a>
    </p>
    <p>
        <a href="{% url 'stdb:delete' pk=dataset.id %}">Delete Dataset!</a>
    </p>

{% comment %}
    <p>
    <!-- Upload form. Note enctype attribute! -->
    <form action="{% url "stdb:list" %}" method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        <p>{{ form.non_field_errors }}</p>

        <p>{{ form.cif_file.label_tag }} {{ form.cif_file.help_text }}</p>

        <p>
            {{ form.cif_file.errors }}
            {{ form.cif_file }}
        </p>

        <p><input type="submit" value="Upload"/></p>
    </form>
    </p>
    {% endcomment %}
    </dl>

<br>

<a href="{% url 'stdb:index' %}">Back to main page</a>

{% endblock content %}